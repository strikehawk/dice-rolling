"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DiceExpressionBase = void 0;
class DiceExpressionBase {
    constructor(expression) {
        this._value = 0;
        if (!expression) {
            throw new Error("Expression cannot be empty.");
        }
        this.expression = expression;
        this._parse(expression);
    }
    get value() {
        return this._value;
    }
    get dice() {
        return this._dice;
    }
    reset() {
        this._value = 0;
        this._dice = [];
    }
    _rollDie(sides) {
        return Math.floor(Math.random() * Math.floor(sides)) + 1;
    }
}
exports.DiceExpressionBase = DiceExpressionBase;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGljZS1leHByZXNzaW9uLWJhc2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvcGFydHMvZGljZS1leHByZXNzaW9uLWJhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsTUFBc0Isa0JBQWtCO0lBYXBDLFlBQVksVUFBa0I7UUFWcEIsV0FBTSxHQUFXLENBQUMsQ0FBQztRQVd6QixJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO1NBQ2xEO1FBRUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBaEJELElBQVcsS0FBSztRQUNaLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBR0QsSUFBVyxJQUFJO1FBQ1gsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFhTSxLQUFLO1FBQ1IsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDaEIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUlTLFFBQVEsQ0FBQyxLQUFhO1FBQzVCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3RCxDQUFDO0NBQ0o7QUFsQ0QsZ0RBa0NDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGljZUV4cHJlc3Npb24gfSBmcm9tIFwiLi9yb2xsLXBhcnRcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEaWNlRXhwcmVzc2lvbkJhc2UgaW1wbGVtZW50cyBEaWNlRXhwcmVzc2lvbiB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhwcmVzc2lvbjogc3RyaW5nO1xyXG5cclxuICAgIHByb3RlY3RlZCBfdmFsdWU6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfZGljZTogbnVtYmVyW107XHJcbiAgICBwdWJsaWMgZ2V0IGRpY2UoKTogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaWNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGV4cHJlc3Npb246IHN0cmluZykge1xyXG4gICAgICAgIGlmICghZXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHByZXNzaW9uIGNhbm5vdCBiZSBlbXB0eS5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xyXG4gICAgICAgIHRoaXMuX3BhcnNlKGV4cHJlc3Npb24pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgcm9sbCgpOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl92YWx1ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5fZGljZSA9IFtdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgX3BhcnNlKGV4cHJlc3Npb246IHN0cmluZyk6IHZvaWQ7XHJcblxyXG4gICAgcHJvdGVjdGVkIF9yb2xsRGllKHNpZGVzOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKHNpZGVzKSkgKyAxO1xyXG4gICAgfVxyXG59Il19